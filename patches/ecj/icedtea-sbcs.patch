diff -Nru openjdk-ecj.orig/jdk/make/tools/src/build/tools/charsetmapping/GenerateSBCS.java openjdk-ecj/jdk/make/tools/src/build/tools/charsetmapping/GenerateSBCS.java
--- openjdk-ecj.orig/jdk/make/tools/src/build/tools/charsetmapping/GenerateSBCS.java	2009-07-01 11:39:50.000000000 +0100
+++ openjdk-ecj/jdk/make/tools/src/build/tools/charsetmapping/GenerateSBCS.java	2009-07-01 12:24:04.000000000 +0100
@@ -27,7 +27,6 @@
 
 import java.io.*;
 import java.util.ArrayList;
-import java.util.Scanner;
 import java.util.Formatter;
 import java.util.regex.*;
 import java.nio.charset.*;
@@ -37,9 +36,8 @@
 
     public static void genSBCS(String args[]) throws Exception {
 
-        Scanner s = new Scanner(new File(args[0], args[2]));
-        while (s.hasNextLine()) {
-            String line = s.nextLine();
+        BufferedReader s = new BufferedReader(new FileReader(new File(args[0], args[2])));
+        for (String line = s.readLine(); line != null; line = s.readLine()) {
             if (line.startsWith("#") || line.length() == 0)
                 continue;
             String[] fields = line.split("\\s+");
@@ -198,12 +196,10 @@
                                      int    c2blen)
         throws Exception
     {
-        Scanner s = new Scanner(new File(srcDir, template));
+      BufferedReader s = new BufferedReader(new FileReader(new File(srcDir, template)));
         PrintStream out = new PrintStream(new FileOutputStream(
                               new File(dstDir, clzName + ".java")));
-
-        while (s.hasNextLine()) {
-            String line = s.nextLine();
+        for (String line = s.readLine(); line != null; line = s.readLine()) {
             int i = line.indexOf("$");
             if (i == -1) {
                 out.println(line);
